let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):console.log("Nope, not a valid Poke.")}function o(){return t}function a(t){pokemonRepository.loadDetails(t).then(function(){let e=$(".modal-content"),o=$(".modal-header"),a=$(".modal-body");o.empty(),a.empty(),e.val("");let n=$('<button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>'),i=$('<span aria-hidden="true">X</span>'),l=$('<div class="modal-body__img-wrapper"></div>'),s=$('<img class="modal-header__logo">').attr("src","src/img/svg-pokemon-logo.png"),d=$('<img class="modal-item__img" alt="">').attr("src",t.imageUrl),p=$('<div class="modal-body__details-wrapper"></div>'),r=$('<h2 class="modal-body__headline headline-secondary">'+t.name+"</h2>"),c=$('<p class="modal-body__item--height"><b>Height: </b>'+t.height+"</p>"),m="";for(let u=0;u<t.types.length;u++)m+=t.types[u].type.name,u+1!==t.types.length&&(m+=", ");let h=$('<p class="modal-body__item--types"><b>Types: </b>'+m+"</p>");o.append(s),o.append(n),n.append(i),a.append(l),a.append(p),l.append(d),p.append(r),p.append(c),p.append(h)})}return{add:e,getAll:o,addListItem:function t(e){var o,n;let i=document.querySelector(".list-item-wrapper"),l=document.createElement("li"),s=document.createElement("button");l.classList.add("group-list-item"),l.classList.add("col-sm-6"),l.classList.add("col-md-4"),s.classList.add("btn"),s.classList.add("btn-primary"),s.type="button",s.setAttribute("data-toggle","modal"),s.setAttribute("data-target","#exampleModal"),s.innerText=e.name,i.appendChild(l),l.appendChild(s),o=s,n=e,o?(o.addEventListener("click",function(){a(n)}),console.log("yes, i work")):console.log("nope, somethings off")},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=30").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){e({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:function t(e){return fetch(e.detailsUrl).then(function(t){return t.json()}).then(function(t){e.imageUrl=t.sprites.other.dream_world.front_default,e.height=t.height,e.types=t.types}).catch(function(t){console.error(t)})},showModal:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});