const pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("Nope, not a valid Poke.")}function a(){return e}function o(e){pokemonRepository.loadDetails(e).then(()=>{let t=$(".modal-content"),a=$(".modal-header"),o=$(".modal-body");a.empty(),o.empty(),t.val("");let l=$('<button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>'),s=$('<span aria-hidden="true">X</span>'),n=$('<div class="modal-body__img-wrapper"></div>'),d=$('<img class="modal-header__logo">').attr("src","src/img/svg-pokemon-logo.png"),i=$('<img class="modal-item__img" alt="">').attr("src",e.imageUrl),p=$('<div class="modal-body__details-wrapper"></div>'),r=$(`<h2 class="modal-body__headline headline-secondary">${e.name}</h2>`),m=$(`<p class="modal-body__item--height"><b>Height: </b>${e.height}</p>`),c="";for(let h=0;h<e.types.length;h+=1)c+=e.types[h].type.name,h+1!==e.types.length&&(c+=", ");let y=$(`<p class="modal-body__item--types"><b>Types: </b>${c}</p>`);a.append(d),a.append(l),l.append(s),o.append(n),o.append(p),n.append(i),p.append(r),p.append(m),p.append(y)})}return{add:t,getAll:a,addListItem:function e(t){var a,l;let s=document.querySelector(".list-item-wrapper"),n=document.createElement("li"),d=document.createElement("button");n.classList.add("group-list-item"),n.classList.add("col-sm-6"),n.classList.add("col-md-4"),d.classList.add("btn"),d.classList.add("btn-primary"),d.type="button",d.setAttribute("data-toggle","modal"),d.setAttribute("data-target","#exampleModal"),d.innerText=t.name,s.appendChild(n),n.appendChild(d),a=d,l=t,a?(a.addEventListener("click",()=>{o(l)}),console.log("yes, i work")):console.log("nope, somethings off")},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=30").then(e=>e.json()).then(e=>{e.results.forEach(e=>{let a={name:e.name,detailsUrl:e.url};t(a)})}).catch(e=>{console.error(e)})},loadDetails:function e(t){let a=t.detailsUrl;return fetch(a).then(e=>e.json()).then(e=>{t.imageUrl=e.sprites.other.dream_world.front_default,t.height=e.height,t.types=e.types}).catch(e=>{console.error(e)})},showModal:o}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});